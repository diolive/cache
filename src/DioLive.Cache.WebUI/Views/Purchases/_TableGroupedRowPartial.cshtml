@model IGrouping<string, PurchaseVM>
@inject IViewLocalizer Localizer
@inject PluralizerCollection Pluralizer

<tr class="grouping" data-toggle="collapse-next">
    <th>
        <i class="glyphicon glyphicon-chevron-right"></i>
    </th>
    <th>
        @Pluralizer[Model.Count()] (@Model.Key)
    </th>
    <th>
        @string.Format(Constants.CostDisplayFormat, Model.Sum(i => i.Cost))
    </th>
    <th colspan="2">&nbsp;</th>
</tr>
@foreach (var purchase in Model)
{
    @await Html.PartialAsync("_TableCollapsingRowPartial", purchase)
}